const _0x31bc75=_0x1b39;(function(_0x3108b0,_0x1c2a68){const _0x251595=_0x1b39,_0x1b5a3a=_0x3108b0();while(!![]){try{const _0x26e9cc=-parseInt(_0x251595(0x18a))/0x1*(-parseInt(_0x251595(0xc5))/0x2)+-parseInt(_0x251595(0xee))/0x3+-parseInt(_0x251595(0x14a))/0x4+parseInt(_0x251595(0x15c))/0x5+parseInt(_0x251595(0x17a))/0x6+parseInt(_0x251595(0x94))/0x7*(-parseInt(_0x251595(0xf0))/0x8)+-parseInt(_0x251595(0xb8))/0x9;if(_0x26e9cc===_0x1c2a68)break;else _0x1b5a3a['push'](_0x1b5a3a['shift']());}catch(_0x45d30c){_0x1b5a3a['push'](_0x1b5a3a['shift']());}}}(_0x389e,0xe2ff6),window[_0x31bc75(0xb0)]=function AndroidClass(){});function include(_0x204d1e){const _0x2bee47=_0x31bc75;var _0x390755=document[_0x2bee47(0x111)](_0x2bee47(0xc8));_0x390755['src']=_0x204d1e,_0x390755[_0x2bee47(0xf2)]=_0x2bee47(0xcd),_0x390755[_0x2bee47(0x175)]=!![],document[_0x2bee47(0x109)](_0x2bee47(0xe1))[_0x2bee47(0x12a)](0x0)[_0x2bee47(0x170)](_0x390755);}include(_0x31bc75(0xcc)),include(_0x31bc75(0x19d)),include(_0x31bc75(0xc2));const url_hardwareConfig='api/v2/getHardwareConfigByZcode',url_openGate='api/v2/openGate',url_decisionInfo=_0x31bc75(0x102);let url_base={get 'getURL'(){const _0x42eda5=_0x31bc75;if(pinaConfig[_0x42eda5(0x127)]==_0x42eda5(0x193))return _0x42eda5(0x166);else return pinaConfig[_0x42eda5(0x127)]==_0x42eda5(0xae)?'https://meghak2.divrt.co/':'https://pinaboxapi-dev.divrt.co/';}},loggerURL={get 'getURL'(){const _0x2f25ce=_0x31bc75;return pinaConfig[_0x2f25ce(0x127)]==_0x2f25ce(0x193)?'https://loggerapi.divrt.co/log':_0x2f25ce(0x169);}},pinaConfig,pinaConfigParams,pinaSdkParams,pinaClientParams,pinaMiscParams,getBeaconListResponse,beaconData,nfcData,qrCode,autoSelectMode,garageLocation={},loopData={},loopDetectorMqttTopic,loopDetected=![],bleDetected=![],collectDecisionData=!![],beaconHits=0x0,beaconDistanceGreaterThanRequired=!![],gateDecisionDeltaSec,cancelled=![],gate,scanToButtonGreenDeltaSec,atleastOneBeaconLessThanOneMtr=![],thresholdTimerExecuted=![],gateSelected=![],loopDetectors=[],minGateData=new Map(),maxGateData=new Map(),gateloopData=new Map(),maxDistance,beaconsMap=new Map(),altBeaconsMap=new Map(),beaconId,delta,differentiationDelta,loopDetectorSimulation=0x0,commandId,scanToButtonClickDeltaSec,outcome='',gateForBeacon=new Map(),decisionData={},buttonMode,presentButtonMode='-1',minorId=new Map(),minorIdDebug=new Map(),minDistance=new Map(),lastDistance=new Map(),rangeWeightData=new Map(),rangeData=new Map(),deciTime=new Map(),deciDistance=new Map(),firstDistance=new Map(),firstTime=new Map(),loopValues=[],loopList=[],oneBeacon='X',otherBeacon='X',myLaneLoop='X',otherLaneLoop='X',lane=-0x1,currentLocation={},prevQRMessage='',batteryDataDictionaryArray=[],screenAppearanceTime,proximityDataArray=[],weightDataDict={},logArray=[],debugCount=0x0,logStartTime=0x0,beaconIdPedestrian,loopEnabledTime,bleEnabledTime,firstBleHitTime,techType='BLE',bookingID,uid,gateDatainitialised=![],entrance='',specificationType='',refId,reloadHwAndDisplay=![];function onClickGateIssues(){const _0x35201a=_0x31bc75;try{document[_0x35201a(0x176)](_0x35201a(0x129))['classList'][_0x35201a(0xbb)]('hide'),document[_0x35201a(0x176)](_0x35201a(0x136))[_0x35201a(0x9e)][_0x35201a(0x120)](_0x35201a(0x161));}catch(_0x517c98){pushException('onClickGateIssues\x20'+_0x517c98['message']);}}function onClickBackGateIssues(){const _0x3e64ee=_0x31bc75;try{document[_0x3e64ee(0x176)](_0x3e64ee(0x129))[_0x3e64ee(0x9e)][_0x3e64ee(0x120)](_0x3e64ee(0x161)),document[_0x3e64ee(0x176)](_0x3e64ee(0x136))[_0x3e64ee(0x9e)][_0x3e64ee(0xbb)](_0x3e64ee(0x161));}catch(_0x325916){pushException(_0x3e64ee(0x114)+_0x325916[_0x3e64ee(0xda)]);}}function onClickPedestrian(){const _0x414d29=_0x31bc75;try{document['getElementById']('main_container')[_0x414d29(0x9e)][_0x414d29(0xbb)](_0x414d29(0x161)),document[_0x414d29(0x176)]('container_pedestrian')[_0x414d29(0x9e)][_0x414d29(0x120)](_0x414d29(0x161));}catch(_0x5b0781){pushException(_0x414d29(0x143)+_0x5b0781[_0x414d29(0xda)]);}}function onClickBackPedestrian(){const _0x14d249=_0x31bc75;try{document['getElementById'](_0x14d249(0x14d))[_0x14d249(0x9e)][_0x14d249(0x120)](_0x14d249(0x161)),document[_0x14d249(0x176)](_0x14d249(0xfc))[_0x14d249(0x9e)]['add']('hide');}catch(_0x2cb4e9){pushException(_0x14d249(0xd2)+_0x2cb4e9[_0x14d249(0xda)]);}}function showOpenButtonPedestrian(){const _0x38fca6=_0x31bc75;try{document['getElementById'](_0x38fca6(0xa9))[_0x38fca6(0x153)]['color']=_0x38fca6(0xaf),document['getElementById'](_0x38fca6(0x108))[_0x38fca6(0x9e)][_0x38fca6(0x120)](_0x38fca6(0x161));}catch(_0x7a8409){pushException(_0x38fca6(0xc7)+_0x7a8409[_0x38fca6(0xda)]);}}function hideAwaitingPedestrian(){const _0x3d9c45=_0x31bc75;try{document[_0x3d9c45(0x176)](_0x3d9c45(0x16f))[_0x3d9c45(0x9e)][_0x3d9c45(0xbb)](_0x3d9c45(0x161));}catch(_0x2d3adf){pushException('hideAwaitingPedestrian\x20'+_0x2d3adf['message']);}}function hideOpenButtonPedestrian(){const _0x37cec5=_0x31bc75;try{document[_0x37cec5(0x176)](_0x37cec5(0x108))['classList'][_0x37cec5(0xbb)](_0x37cec5(0x161));}catch(_0x5f0835){pushException(_0x37cec5(0xc7)+_0x5f0835['message']);}}function showAwaitingPedestrian(){const _0x13f460=_0x31bc75;try{document['getElementById'](_0x13f460(0x16f))['classList'][_0x13f460(0x120)]('hide');}catch(_0x2462cf){pushException(_0x13f460(0xc4)+_0x2462cf[_0x13f460(0xda)]);}}function storeBeaconIdPedestrian(_0x4cbdb8){beaconIdPedestrian=_0x4cbdb8;}function onClickBLEButtonPedestrian(){const _0x2072cb=_0x31bc75;try{openGatePedestrian();}catch(_0x137dcb){pushException(_0x2072cb(0xf3)+_0x137dcb[_0x2072cb(0xda)]);}}function openGatePedestrian(){const _0x559f33=_0x31bc75;if(window[_0x559f33(0x19a)][_0x559f33(0xe2)]==![]){alert(_0x559f33(0x140));return;}try{J2N_suspendClick();const _0x1b3e41=url_base[_0x559f33(0x113)]+url_openGate;showProgress(!![]),debugLog(_0x559f33(0x148));let _0xbe1ba1=JSON['stringify']({'url':_0x1b3e41,'data':{'beaconId':beaconId,'specification_type':specificationType,'pinaConfigParams':pinaConfigParams,'pinaClientParams':pinaClientParams,'pinaJSParams':pinaConfig['pinaJSParams']},'jsIntent':_0x559f33(0xac)});J2N_fetchRequest(_0xbe1ba1);}catch(_0x41f496){showProgress(![]),debugLog(_0x559f33(0x15a)+_0x41f496[_0x559f33(0xda)]),J2N_postOnFailure(_0x559f33(0xf4)),pushException(_0x559f33(0x110)+_0x41f496[_0x559f33(0xda)]);}}function onClickBLEButton(){const _0x2f370d=_0x31bc75;try{scanToButtonClickDeltaSec=(Date['now']()-scanToButtonClickDelta)/0x3e8;if(gate['localeCompare'](beaconData[_0x2f370d(0xe6)][_0x2f370d(0x14b)][_0x2f370d(0x125)][0x0][_0x2f370d(0x9d)])===0x0)takeAction(0x1,gateForBeacon[_0x2f370d(0x96)](gate),gate);else{if(beaconData[_0x2f370d(0xe6)][_0x2f370d(0x14b)]['lanesToBeaconList']['length']>=0x2&&gate[_0x2f370d(0x104)](beaconData[_0x2f370d(0xe6)]['lanesBeaconsMap'][_0x2f370d(0x125)][0x1][_0x2f370d(0x9d)])===0x0)takeAction(0x2,gateForBeacon[_0x2f370d(0x96)](gate),gate);else beaconData[_0x2f370d(0xe6)][_0x2f370d(0x14b)][_0x2f370d(0x125)]['length']>=0x3&&gate['localeCompare'](beaconData['beaconConfig'][_0x2f370d(0x14b)]['lanesToBeaconList'][0x2]['gateID'])===0x0&&takeAction(0x3,gateForBeacon[_0x2f370d(0x96)](gate),gate);}}catch(_0x45e183){pushException(_0x2f370d(0xf3)+_0x45e183['message']);}}function onClickGate1(){const _0x5895c7=_0x31bc75;try{takeAction(0x1,gateForBeacon[_0x5895c7(0x96)](beaconData['beaconConfig'][_0x5895c7(0x14b)][_0x5895c7(0x125)][0x0][_0x5895c7(0x9d)]),beaconData[_0x5895c7(0xe6)][_0x5895c7(0x14b)]['lanesToBeaconList'][0x0][_0x5895c7(0x9d)]),scanToButtonClickDeltaSec=(Date[_0x5895c7(0xa3)]()-scanToButtonClickDelta)/0x3e8;}catch(_0x2aa106){pushException(_0x5895c7(0x162)+_0x2aa106[_0x5895c7(0xda)]);}}function onClickGate2(){const _0x460c78=_0x31bc75;try{takeAction(0x2,gateForBeacon['get'](beaconData['beaconConfig']['lanesBeaconsMap'][_0x460c78(0x125)][0x1][_0x460c78(0x9d)]),beaconData[_0x460c78(0xe6)][_0x460c78(0x14b)][_0x460c78(0x125)][0x0]['gateID']),scanToButtonClickDeltaSec=(Date[_0x460c78(0xa3)]()-scanToButtonClickDelta)/0x3e8;}catch(_0x2f1014){pushException(_0x460c78(0x144)+_0x2f1014[_0x460c78(0xda)]);}}function onClickGate3(){const _0x5df1e7=_0x31bc75;try{takeAction(0x3,gateForBeacon[_0x5df1e7(0x96)](beaconData['beaconConfig'][_0x5df1e7(0x14b)][_0x5df1e7(0x125)][0x2][_0x5df1e7(0x9d)]),beaconData[_0x5df1e7(0xe6)][_0x5df1e7(0x14b)]['lanesToBeaconList'][0x0]['gateID']),scanToButtonClickDeltaSec=(Date['now']()-scanToButtonClickDelta)/0x3e8;}catch(_0x480a97){pushException(_0x5df1e7(0x188)+_0x480a97[_0x5df1e7(0xda)]);}}function _0x1b39(_0x5cc509,_0x421af3){const _0x389e96=_0x389e();return _0x1b39=function(_0x1b39c8,_0x47f73a){_0x1b39c8=_0x1b39c8-0x93;let _0x57d60c=_0x389e96[_0x1b39c8];return _0x57d60c;},_0x1b39(_0x5cc509,_0x421af3);}function onClickMoveForward(){const _0x35692e=_0x31bc75;try{document[_0x35692e(0x176)](_0x35692e(0x14d))[_0x35692e(0x9e)][_0x35692e(0x120)](_0x35692e(0x161)),document[_0x35692e(0x176)](_0x35692e(0xf8))[_0x35692e(0x9e)][_0x35692e(0xbb)]('hide');}catch(_0x517164){pushException(_0x35692e(0x121)+_0x517164['message']);}}function onClickNFCButton(){J2N_startNFCScan();}function onClickStart(){}function onClickSimulate(){}function onClickQRButton(){const _0xd82036=_0x31bc75;try{J2N_startQRScan();}catch(_0x248959){pushException('onClickQRButton\x20'+_0x248959[_0xd82036(0xda)]);}}function showGateLayout(){const _0x3ff27f=_0x31bc75;try{document[_0x3ff27f(0x176)](_0x3ff27f(0x191))[_0x3ff27f(0x153)]['color']='#FFFFFF',document[_0x3ff27f(0x176)](_0x3ff27f(0x99))[_0x3ff27f(0x9e)]['remove'](_0x3ff27f(0x161)),document['getElementById'](_0x3ff27f(0x14f))[_0x3ff27f(0x9e)][_0x3ff27f(0x120)](_0x3ff27f(0x161)),document[_0x3ff27f(0x176)](_0x3ff27f(0x17e))[_0x3ff27f(0x9e)][_0x3ff27f(0x120)](_0x3ff27f(0x161)),beaconData[_0x3ff27f(0xe6)]['lanesBeaconsMap'][_0x3ff27f(0x125)]['length']>0x2?document[_0x3ff27f(0x176)](_0x3ff27f(0x159))['classList'][_0x3ff27f(0x120)](_0x3ff27f(0x161)):document['getElementById'](_0x3ff27f(0x159))[_0x3ff27f(0x9e)][_0x3ff27f(0xbb)](_0x3ff27f(0x161)),getBeaconListResponse[_0x3ff27f(0xd1)][_0x3ff27f(0x9a)]!=null&&getBeaconListResponse['data'][_0x3ff27f(0x9a)]['localeCompare']('1')===0x0&&document[_0x3ff27f(0x176)](_0x3ff27f(0x14f))['classList'][_0x3ff27f(0xbb)](_0x3ff27f(0x161));}catch(_0xd00e1b){pushException(_0x3ff27f(0xbd)+_0xd00e1b[_0x3ff27f(0xda)]);}}function hideOpenButton(){const _0x5f4da1=_0x31bc75;try{document[_0x5f4da1(0x176)]('button_enable')[_0x5f4da1(0x9e)][_0x5f4da1(0xbb)](_0x5f4da1(0x161));}catch(_0x4055d7){pushException(_0x5f4da1(0xbf)+_0x4055d7[_0x5f4da1(0xda)]);}}function hideGateLayout(){const _0x4905d1=_0x31bc75;try{document[_0x4905d1(0x176)](_0x4905d1(0x99))[_0x4905d1(0x9e)][_0x4905d1(0xbb)](_0x4905d1(0x161)),document[_0x4905d1(0x176)]('left_btn')[_0x4905d1(0x9e)][_0x4905d1(0xab)]='',document[_0x4905d1(0x176)](_0x4905d1(0x159))[_0x4905d1(0x9e)][_0x4905d1(0xab)]='',document[_0x4905d1(0x176)]('right_btn')[_0x4905d1(0x9e)]['innerHTML']='';}catch(_0x59a45a){pushException(_0x4905d1(0x184)+_0x59a45a[_0x4905d1(0xda)]);}}function showOpenButton(){const _0x4e8b20=_0x31bc75;try{document['getElementById'](_0x4e8b20(0x191))[_0x4e8b20(0x153)]['color']='#FFFFFF',document['getElementById'](_0x4e8b20(0x135))[_0x4e8b20(0x9e)]['remove'](_0x4e8b20(0x161));}catch(_0xa7b442){pushException(_0x4e8b20(0x172)+_0xa7b442[_0x4e8b20(0xda)]);}}function hideAwaiting(){const _0x46ecbf=_0x31bc75;try{scanToButtonGreenDeltaSec===0x0&&(debugLog(_0x46ecbf(0x126)),scanToButtonGreenDeltaSec=(Date[_0x46ecbf(0xa3)]()-screenAppearanceTime)/0x3e8),document[_0x46ecbf(0x176)](_0x46ecbf(0xb6))[_0x46ecbf(0x9e)][_0x46ecbf(0xbb)](_0x46ecbf(0x161));}catch(_0x17cab5){pushException(_0x46ecbf(0xb1)+_0x17cab5[_0x46ecbf(0xda)]);}}function showAwaiting(){const _0x1264a4=_0x31bc75;try{document[_0x1264a4(0x176)](_0x1264a4(0xb6))[_0x1264a4(0x9e)][_0x1264a4(0x120)]('hide');}catch(_0x37f08c){pushException(_0x1264a4(0x11a)+_0x37f08c[_0x1264a4(0xda)]);}}function showSimulation(){const _0x40233b=_0x31bc75;pinaConfigParams[_0x40233b(0x9b)]!=undefined&&pinaConfigParams[_0x40233b(0x9b)]?document[_0x40233b(0x176)](_0x40233b(0x18f))[_0x40233b(0x9e)]['remove']('hide'):document['getElementById'](_0x40233b(0x18f))[_0x40233b(0x9e)][_0x40233b(0xbb)](_0x40233b(0x161));}function showDevMode(){const _0x57a2e5=_0x31bc75;pinaConfig['environment']!=undefined&&pinaConfig[_0x57a2e5(0x127)][_0x57a2e5(0x104)](_0x57a2e5(0x193))?document[_0x57a2e5(0x176)](_0x57a2e5(0xa4))[_0x57a2e5(0x9e)]['remove'](_0x57a2e5(0x161)):document[_0x57a2e5(0x176)](_0x57a2e5(0xa4))[_0x57a2e5(0x9e)][_0x57a2e5(0xbb)]('hide');}function showGateIssues(){const _0x372c3c=_0x31bc75;nfcData[_0x372c3c(0x160)]==0x0&&qrCode['status']==0x0&&document['getElementById'](_0x372c3c(0xf1))[_0x372c3c(0x9e)][_0x372c3c(0xbb)]('hide'),nfcData[_0x372c3c(0x160)]==0x0&&document['getElementById'](_0x372c3c(0x16d))[_0x372c3c(0x9e)][_0x372c3c(0xbb)](_0x372c3c(0x161)),qrCode[_0x372c3c(0x160)]==0x0&&document[_0x372c3c(0x176)]('button_qr')[_0x372c3c(0x9e)][_0x372c3c(0xbb)](_0x372c3c(0x161)),document['getElementById'](_0x372c3c(0x158))[_0x372c3c(0x9e)][_0x372c3c(0xbb)](_0x372c3c(0x161)),document[_0x372c3c(0x176)]('container')[_0x372c3c(0x9e)][_0x372c3c(0x120)](_0x372c3c(0x161)),document[_0x372c3c(0x176)]('main_container')[_0x372c3c(0x9e)][_0x372c3c(0x120)](_0x372c3c(0x161)),document[_0x372c3c(0x176)](_0x372c3c(0xfc))[_0x372c3c(0x9e)][_0x372c3c(0xbb)](_0x372c3c(0x161)),document['getElementById'](_0x372c3c(0x129))[_0x372c3c(0x9e)][_0x372c3c(0x120)](_0x372c3c(0x161)),document[_0x372c3c(0x176)](_0x372c3c(0x136))[_0x372c3c(0x9e)][_0x372c3c(0xbb)](_0x372c3c(0x161));}function flushData(){const _0x4254f0=_0x31bc75;try{garageLocation={},loopData={},loopDetected=![],bleDetected=![],presentButtonMode='-1',collectDecisionData=!![],beaconHits=0x0,beaconDistanceGreaterThanRequired=!![],cancelled=![],gate='',atleastOneBeaconLessThanOneMtr=![],thresholdTimerExecuted=![],gateSelected=![],loopDetectors=[],minGateData=new Map(),maxGateData=new Map(),gateDatainitialised=![],gateloopData=new Map(),beaconsMap=new Map(),altBeaconsMap=new Map(),loopDetectorSimulation=0x0,outcome='',gateForBeacon=new Map(),decisionData={},minorId=new Map(),minDistance=new Map(),lastDistance=new Map(),prevQRMessage='',specificationType='',scanToButtonGreenDelta=Date[_0x4254f0(0xa3)](),scanToButtonClickDelta=Date['now'](),gateDecisionDelta=Date[_0x4254f0(0xa3)](),screenAppearanceTime=Date[_0x4254f0(0xa3)](),scanToButtonGreenDeltaSec=0x0,gateDecisionDeltaSec=0x0,scanToButtonClickDeltaSec=0x0,loopEnabledTime=0x0,bleEnabledTime=0x0,firstBleHitTime=0x0,bookingID='',refId='',uid='',differentiationDelta=0x0,hideOpenButton(),hideGateLayout(),showAwaiting(),hideOpenButtonPedestrian(),showAwaitingPedestrian();}catch(_0x4f3060){pushException(_0x4254f0(0x13b)+_0x4f3060[_0x4254f0(0xda)]);}}function validateHardwareConfig(_0x535a72){const _0x4118c5=_0x31bc75;try{getBeaconListResponse=JSON['parse'](_0x535a72),getBeaconListResponse!=undefined?initHardwareConfig():getHardwareConfiguration();}catch(_0x27c5ca){getHardwareConfiguration(),pushException(_0x4118c5(0x196)+_0x27c5ca[_0x4118c5(0xda)]);}}function prefetchHardwareConfiguration(_0x12fc2d,_0x125e11){const _0x201fc5=_0x31bc75;validatePinaConfig(_0x12fc2d),_0x125e11!=undefined?(getBeaconListResponse=JSON[_0x201fc5(0xa0)](_0x125e11),initHardwareConfig(),J2N_printLog(_0x201fc5(0x17b))):getHardwareConfiguration(![]);}function initSDKMethods(){const _0x54ee75=_0x31bc75;if(getBeaconListResponse!=undefined&&pinaConfig[_0x54ee75(0x178)][_0x54ee75(0xef)]==getBeaconListResponse['data'][_0x54ee75(0xf2)]){let _0x40f513={};_0x40f513[_0x54ee75(0x18b)]=_0x54ee75(0x195),_0x40f513[_0x54ee75(0xc3)]=_0x54ee75(0x199),_0x40f513[_0x54ee75(0xd6)]=pinaConfig[_0x54ee75(0x127)]=='PROD'?_0x54ee75(0x93):'anveshtokala',_0x40f513[_0x54ee75(0x187)]=pinaConfig['environment']==_0x54ee75(0x193)?_0x54ee75(0x11d):_0x54ee75(0x130),_0x40f513[_0x54ee75(0x177)]=getBeaconListResponse[_0x54ee75(0xd1)][_0x54ee75(0x18c)][_0x54ee75(0xfd)]['mqtt_topic'],loopList=getBeaconListResponse[_0x54ee75(0xd1)][_0x54ee75(0x18c)]['loopsList'],rangeData=new Map();if(isiOS()){_0x40f513[_0x54ee75(0x18b)]=pinaConfig[_0x54ee75(0x127)]==_0x54ee75(0x193)?_0x54ee75(0x10e):_0x54ee75(0xd9),J2N_startLoopScan(JSON['stringify'](_0x40f513)),debugLog(_0x54ee75(0x107));let _0x2dcfc2=beaconData['beaconConfig'][_0x54ee75(0x179)],_0x111754=beaconData[_0x54ee75(0xe6)][_0x54ee75(0x115)],_0x42e64a={'arrayRangeCount':_0x2dcfc2,'estimoteCloudDetailsModel':_0x111754};J2N_startBeaconScan(JSON[_0x54ee75(0x112)](_0x42e64a)),debugLog(_0x54ee75(0xff));}(pinaConfigParams[_0x54ee75(0x9b)]!=undefined&&pinaConfigParams[_0x54ee75(0x9b)]||getBeaconListResponse[_0x54ee75(0xd1)][_0x54ee75(0x190)]!=undefined&&getBeaconListResponse[_0x54ee75(0xd1)]['demoGarage'][_0x54ee75(0x104)]('1')===0x0)&&(initLoopData(),initBeaconData());}else getHardwareConfiguration(!![]);}function displayWebViewAndStartSDK(_0x304f44,_0x42e016){const _0x5a2520=_0x31bc75;try{debugLog(_0x5a2520(0x119));if(_0x304f44!=undefined){let _0x2c02f7=JSON[_0x5a2520(0xa0)](_0x304f44);_0x2c02f7['pinaConfigParams'][_0x5a2520(0xf5)]!=pinaConfig['pinaConfigParams']['zid']&&(getBeaconListResponse=undefined),validatePinaConfig(_0x304f44);}getBeaconListResponse!=undefined&&_0x42e016!=undefined&&(getBeaconListResponse=JSON['parse'](_0x42e016),initHardwareConfig());scanToButtonGreenDeltaSec=0x0,gateDecisionDeltaSec=0x0,scanToButtonClickDeltaSec=0x0,loopEnabledTime=0x0,bleEnabledTime=0x0,firstBleHitTime=0x0,debugLog('popupappear'),showSimulation(),showDevMode();if(pinaConfig[_0x5a2520(0x127)]==_0x5a2520(0x193)&&pinaConfigParams[_0x5a2520(0x9b)]==!![]){alert(_0x5a2520(0x168));return;}initSDKMethods();}catch(_0xe7b69c){J2N_printLog(_0xe7b69c[_0x5a2520(0xda)]),pushException(_0x5a2520(0x13f)+_0xe7b69c[_0x5a2520(0xda)]);}}function validatePinaConfig(_0x11552a){const _0x24487b=_0x31bc75;try{flushData(),pinaConfig=JSON[_0x24487b(0xa0)](_0x11552a);isiOS()?(pinaConfigParams=pinaConfig[_0x24487b(0x178)],pinaSdkParams=pinaConfig[_0x24487b(0x12b)],pinaClientParams=pinaConfig[_0x24487b(0xa7)]):(pinaConfigParams=pinaConfig[_0x24487b(0x178)][_0x24487b(0x124)],pinaSdkParams=pinaConfig[_0x24487b(0x12b)][_0x24487b(0x124)],pinaClientParams=pinaConfig[_0x24487b(0xa7)][_0x24487b(0x124)],pinaMiscParams=pinaConfig[_0x24487b(0xe7)][_0x24487b(0x124)]);document[_0x24487b(0x176)](_0x24487b(0x15b))[_0x24487b(0xab)]=pinaSdkParams[_0x24487b(0x10b)],document[_0x24487b(0x176)](_0x24487b(0x191))[_0x24487b(0x153)][_0x24487b(0x15d)]=pinaSdkParams[_0x24487b(0x122)]||_0x24487b(0xec);pinaConfigParams['gateType']['localeCompare']('IN')===0x0?document[_0x24487b(0x176)](_0x24487b(0x191))[_0x24487b(0xab)]='Move\x20closer\x20to\x20the\x20gate\x20to\x20enter':document[_0x24487b(0x176)](_0x24487b(0x191))[_0x24487b(0xab)]=_0x24487b(0x17f);showDevMode();if(pinaSdkParams[_0x24487b(0x122)]!=undefined){var _0x29f340=document[_0x24487b(0x18d)](_0x24487b(0x151)),_0x57c2c4=document['getElementsByClassName'](_0x24487b(0x15e)),_0x5c7bb7=document[_0x24487b(0x18d)](_0x24487b(0x13c)),_0x1ca5fe=document[_0x24487b(0x18d)](_0x24487b(0x158));for(var _0x35ad60=0x0;_0x35ad60<_0x29f340['length'];_0x35ad60++){_0x29f340[_0x35ad60]['style'][_0x24487b(0xeb)]=pinaSdkParams[_0x24487b(0x122)];}for(var _0x35ad60=0x0;_0x35ad60<_0x57c2c4[_0x24487b(0xa6)];_0x35ad60++){_0x57c2c4[_0x35ad60][_0x24487b(0x153)][_0x24487b(0xeb)]=pinaSdkParams['gateButtonBgColor'];}for(var _0x35ad60=0x0;_0x35ad60<_0x5c7bb7[_0x24487b(0xa6)];_0x35ad60++){_0x5c7bb7[_0x35ad60][_0x24487b(0x153)][_0x24487b(0xeb)]=pinaSdkParams[_0x24487b(0x122)];}for(var _0x35ad60=0x0;_0x35ad60<_0x1ca5fe[_0x24487b(0xa6)];_0x35ad60++){_0x5c7bb7[_0x35ad60]['style']['background']=pinaSdkParams[_0x24487b(0x122)];}document[_0x24487b(0x176)](_0x24487b(0xa9))[_0x24487b(0x153)][_0x24487b(0x15d)]=pinaSdkParams[_0x24487b(0x122)],document['getElementById']('move_closer_text')[_0x24487b(0x153)][_0x24487b(0x15d)]=pinaSdkParams[_0x24487b(0x122)];}pinaSdkParams[_0x24487b(0x100)]!=undefined?document[_0x24487b(0x176)](_0x24487b(0xce))[_0x24487b(0x141)]=pinaSdkParams[_0x24487b(0x100)]:document[_0x24487b(0x176)](_0x24487b(0xce))[_0x24487b(0x141)]=_0x24487b(0x155);}catch(_0x423a5a){J2N_printLog(_0x423a5a['message']),pushException('validatePinaConfig\x20'+_0x423a5a[_0x24487b(0xda)]);}}function validateLoopData(_0x36acac){const _0x42a652=_0x31bc75;try{const _0x1c63cf=JSON[_0x42a652(0xa0)](_0x36acac);for(let _0x37258a=0x0;_0x37258a<getBeaconListResponse[_0x42a652(0xd1)]['loopData'][_0x42a652(0xfd)][_0x42a652(0xba)][_0x42a652(0xa6)];_0x37258a++){_0x1c63cf['topic'][_0x42a652(0x104)](getBeaconListResponse[_0x42a652(0xd1)][_0x42a652(0x18c)][_0x42a652(0xfd)]['laneMqttTopics'][_0x37258a][_0x42a652(0x117)])===0x0&&(gateloopData[_0x42a652(0xa5)](getBeaconListResponse['data'][_0x42a652(0x18c)][_0x42a652(0xfd)][_0x42a652(0xba)][_0x37258a][_0x42a652(0x9d)],_0x1c63cf['value']),gateDatainitialised&&getBeaconListResponse[_0x42a652(0xd1)][_0x42a652(0x18c)][_0x42a652(0xfd)][_0x42a652(0xba)][_0x37258a][_0x42a652(0xc0)][_0x42a652(0x104)](entrance)===0x0&&(_0x1c63cf[_0x42a652(0xfa)]===0x1&&(loopDetected=!![],loopEnabledTime===0x0&&(loopEnabledTime=(Date[_0x42a652(0xa3)]()-screenAppearanceTime)/0x3e8)),presentButtonMode[_0x42a652(0x186)]()[_0x42a652(0x104)]('-1')===0x0&&!(getBeaconListResponse[_0x42a652(0xd1)][_0x42a652(0x18c)][_0x42a652(0xfd)]['loopEnabled'][_0x42a652(0x104)]('0')===0x0)&&takeAction(undefined,undefined,undefined)),_0x1c63cf[_0x42a652(0x13a)]=returnDelta(),loopValues[_0x42a652(0xb4)](_0x1c63cf));}}catch(_0x26a4f9){pushException(_0x42a652(0x198)+_0x26a4f9[_0x42a652(0xda)]);}}function validateLatLong(_0x188531){const _0x416f0f=_0x31bc75;try{const _0x469ecc=JSON['parse'](_0x188531);currentLocation[_0x416f0f(0x106)]=_0x469ecc[_0x416f0f(0x106)],currentLocation[_0x416f0f(0x11f)]=_0x469ecc[_0x416f0f(0x11f)],J2N_printLog(_0x416f0f(0x14e)+_0x469ecc['latitude']),J2N_printLog(_0x416f0f(0x145)+_0x469ecc[_0x416f0f(0x11f)]);}catch(_0x215d62){pushException(_0x416f0f(0xfb)+_0x215d62[_0x416f0f(0xda)]);}}function getDistanceFromLatLonInKm(_0x5db3c6,_0x5cf31f,_0x3c08d5,_0x29d8d9){const _0x3f2590=_0x31bc75;try{let _0x48c08c=0x18e3,_0x34a3b6=deg2rad(_0x3c08d5-_0x5db3c6),_0x4a4cd0=deg2rad(_0x29d8d9-_0x5cf31f),_0x5a681f=Math['sin'](_0x34a3b6/0x2)*Math[_0x3f2590(0xf6)](_0x34a3b6/0x2)+Math[_0x3f2590(0x10a)](deg2rad(_0x5db3c6))*Math[_0x3f2590(0x10a)](deg2rad(_0x3c08d5))*Math[_0x3f2590(0xf6)](_0x4a4cd0/0x2)*Math[_0x3f2590(0xf6)](_0x4a4cd0/0x2),_0x3e9c6c=0x2*Math[_0x3f2590(0x11b)](Math[_0x3f2590(0x173)](_0x5a681f),Math[_0x3f2590(0x173)](0x1-_0x5a681f)),_0x39710b=_0x48c08c*_0x3e9c6c;return _0x39710b;}catch(_0x3bcd98){pushException(_0x3f2590(0x13e)+_0x3bcd98['message']);}}function deg2rad(_0x32227a){const _0x24e3d1=_0x31bc75;try{return _0x32227a*(Math['PI']/0xb4);}catch(_0x213325){pushException('deg2rad\x20'+_0x213325[_0x24e3d1(0xda)]);}}function validateNFC(_0x5eaf2d){const _0x268c8f=_0x31bc75;try{beaconId=_0x5eaf2d,techType=_0x268c8f(0x157),specificationType='2',openGate();}catch(_0x6ae404){J2N_printLog(_0x6ae404[_0x268c8f(0xda)]),J2N_postOnFailure(_0x268c8f(0xa2)),pushException(_0x268c8f(0x131)+_0x6ae404['message']);}}function validateQR(_0x12bb46){const _0x101175=_0x31bc75;try{if(prevQRMessage[_0x101175(0x104)](_0x12bb46)===0x0){}else prevQRMessage=_0x12bb46,beaconId=prevQRMessage,techType='QR',specificationType='3',openGate();}catch(_0x2dc4f7){J2N_printLog(_0x2dc4f7[_0x101175(0xda)]),J2N_postOnFailure(_0x101175(0xdb)),pushException(_0x101175(0x163)+_0x2dc4f7['message']);}}function takeAction(_0x2e5f13,_0x3c2928,_0x1bbaa0){const _0x391d34=_0x31bc75;try{if(pinaConfigParams[_0x391d34(0x9b)]!=undefined&&pinaConfigParams['simulationMode']||getBeaconListResponse[_0x391d34(0xd1)][_0x391d34(0x190)]!=undefined&&getBeaconListResponse[_0x391d34(0xd1)]['demoGarage']['localeCompare']('1')===0x0)debugLog(_0x391d34(0xed)),presentButtonMode[_0x391d34(0x104)]('-1')===0x0?(presentButtonMode='1',isiOS()?selectGateiOS():selectGateAndroid(),hideAwaiting(),showOpenButton(),hideGateLayout()):_0x1bbaa0!=undefined&&(beaconId=_0x3c2928,openGate());else{if(gateDatainitialised){if(getBeaconListResponse['data']['loopData']['loopConfig'][_0x391d34(0x156)]['localeCompare']('0')===0x0)presentButtonMode['localeCompare']('-1')===0x0?(isiOS()?selectGateiOS():selectGateAndroid(),hideAwaiting(),beaconData['beaconConfig'][_0x391d34(0x14b)][_0x391d34(0x125)][_0x391d34(0xa6)]>0x1?(showGateLayout(),hideOpenButton()):(showOpenButton(),hideGateLayout()),presentButtonMode='1'):_0x2e5f13!=undefined&&(beaconId=_0x3c2928,openGate());else try{beaconId=_0x3c2928,myLaneLoop='0',otherLaneLoop='0';if(presentButtonMode[_0x391d34(0x104)]('-1')===0x0&&(!loopDetected||!bleDetected))return;else{presentButtonMode[_0x391d34(0x104)]('-1')===0x0&&loopDetected&&bleDetected&&(isiOS()?selectGateiOS():selectGateAndroid());gateDecisionDeltaSec===0x0&&(gateDecisionDeltaSec=(Date['now']()-screenAppearanceTime)/0x3e8);let _0x37c471='-1',_0x5dea0a='-1',_0x3df2d7='-1',_0x139b65=0x0;for(let [_0x5451da,_0x5be820]of gateloopData){if(_0x139b65===0x0)_0x37c471=''+_0x5be820,_0x139b65++;else{if(_0x139b65===0x1)_0x5dea0a=''+_0x5be820,_0x139b65++;else _0x139b65===0x2&&(_0x3df2d7=''+_0x5be820,_0x139b65++);}}let _0x3f5f63=_0x2e5f13!=undefined?_0x2e5f13:lane;switch(_0x3f5f63){case 0x1:if(_0x37c471[_0x391d34(0x104)]('1')===0x0)myLaneLoop=0x1;if(_0x5dea0a[_0x391d34(0x104)]('1')===0x0||_0x3df2d7['localeCompare']('1')===0x0)otherLaneLoop=0x1;break;case 0x2:if(_0x5dea0a[_0x391d34(0x104)]('1')===0x0)myLaneLoop=0x1;if(_0x37c471['localeCompare']('1')===0x0||_0x3df2d7[_0x391d34(0x104)]('1')===0x0)otherLaneLoop=0x1;break;case 0x3:if(_0x3df2d7[_0x391d34(0x104)]('1')===0x0)myLaneLoop=0x1;if(_0x37c471['localeCompare']('1')===0x0||_0x5dea0a['localeCompare']('1')===0x0)otherLaneLoop=0x1;break;default:break;}let _0x5803db;if(loopList!=null&&loopList[_0x391d34(0xa6)]>0x0)for(let _0x593192=0x0;_0x593192<loopList[_0x391d34(0xa6)];_0x593192++){if((loopList[_0x593192][_0x391d34(0xe4)][_0x391d34(0x104)]('X')===0x0||loopList[_0x593192][_0x391d34(0xe4)][_0x391d34(0x104)](oneBeacon)===0x0)&&(loopList[_0x593192]['otherBeacon'][_0x391d34(0x104)]('X')===0x0||loopList[_0x593192][_0x391d34(0x98)][_0x391d34(0x104)](otherBeacon)===0x0)&&(loopList[_0x593192][_0x391d34(0x142)][_0x391d34(0x104)]('X')===0x0||loopList[_0x593192][_0x391d34(0x142)][_0x391d34(0x104)](myLaneLoop)===0x0)&&(loopList[_0x593192]['otherLaneLoop']['localeCompare']('X')===0x0||loopList[_0x593192][_0x391d34(0xb5)]['localeCompare'](otherLaneLoop)===0x0)&&loopList[_0x593192][_0x391d34(0xd7)][_0x391d34(0x104)](presentButtonMode)===0x0){_0x5803db=loopList[_0x593192];if(outcome===''||_0x1bbaa0!=undefined){if(_0x1bbaa0!=undefined)outcome=outcome+_0x5803db[_0x391d34(0x174)]['replace']('#',_0x1bbaa0);else gate!=undefined&&(outcome=outcome+_0x5803db['outcome'][_0x391d34(0x149)]('#',gate));}switch(_0x5803db[_0x391d34(0x138)]){case'-1':presentButtonMode=_0x5803db['action'];break;case'0':_0x1bbaa0!=undefined&&openGate();break;case'1':buttonMode='single',hideAwaiting(),showOpenButton(),hideGateLayout(),presentButtonMode=_0x5803db[_0x391d34(0x138)];break;case'2':buttonMode=_0x391d34(0x10f),hideAwaiting(),showGateLayout(),hideOpenButton(),presentButtonMode=_0x5803db[_0x391d34(0x138)];break;case'3':document[_0x391d34(0x176)](_0x391d34(0x14d))['classList'][_0x391d34(0xbb)](_0x391d34(0x161)),document[_0x391d34(0x176)](_0x391d34(0xf8))['classList'][_0x391d34(0x120)]('hide');break;default:break;}return;}}}}catch(_0x161f8e){J2N_printLog(_0x161f8e[_0x391d34(0xda)]),pushException(_0x391d34(0x128)+_0x161f8e[_0x391d34(0xda)]);}}}}catch(_0x2629a8){pushException(_0x391d34(0xe8)+_0x2629a8[_0x391d34(0xda)]);}}function showProgress(_0x45fdaa){const _0x560d6f=_0x31bc75;try{var _0x3b108d=document[_0x560d6f(0x176)](_0x560d6f(0x158));_0x45fdaa?_0x3b108d[_0x560d6f(0x9e)][_0x560d6f(0x120)](_0x560d6f(0x161)):_0x3b108d[_0x560d6f(0x9e)][_0x560d6f(0xbb)](_0x560d6f(0x161));}catch(_0x26e810){pushException(_0x560d6f(0x165)+_0x26e810['message']);}}function getHardwareConfiguration(_0x4c0d3f){const _0x5b006d=_0x31bc75;try{const _0x3d2bf9=url_base[_0x5b006d(0x113)]+url_hardwareConfig;showProgress(!![]),debugLog('getHardwareConfiguration');let _0x15851c=JSON[_0x5b006d(0x112)]({'url':_0x3d2bf9,'data':{'pinaConfigParams':pinaConfigParams,'pinaJSParams':pinaConfig[_0x5b006d(0x185)]},'jsIntent':_0x5b006d(0x167)});J2N_fetchRequest(_0x15851c),reloadHwAndDisplay=_0x4c0d3f;}catch(_0x2521c7){showProgress(![]),debugLog('gethwExcep\x20'+_0x2521c7['message']),pushException(_0x5b006d(0xe3)+_0x2521c7[_0x5b006d(0xda)]);}}function initHardwareConfig(){const _0x3a74ef=_0x31bc75;try{beaconData=getBeaconListResponse[_0x3a74ef(0xd1)][_0x3a74ef(0xd0)],nfcData=getBeaconListResponse['data'][_0x3a74ef(0x154)],qrCode=getBeaconListResponse[_0x3a74ef(0xd1)][_0x3a74ef(0xdc)];getBeaconListResponse['data'][_0x3a74ef(0x9a)]!=null&&getBeaconListResponse[_0x3a74ef(0xd1)][_0x3a74ef(0x9a)][_0x3a74ef(0x104)]('1')===0x0?document['getElementById'](_0x3a74ef(0x16a))[_0x3a74ef(0x9e)][_0x3a74ef(0x120)](_0x3a74ef(0x189)):document[_0x3a74ef(0x176)](_0x3a74ef(0x16a))['classList'][_0x3a74ef(0xbb)](_0x3a74ef(0x189));if(isiOS()){let _0x488c25=beaconData[_0x3a74ef(0xe6)][_0x3a74ef(0x179)];for(let _0x1ac8f8=0x0;_0x1ac8f8<_0x488c25['length'];_0x1ac8f8++){rangeWeightData['set'](_0x488c25[_0x1ac8f8][_0x3a74ef(0x19c)],_0x488c25[_0x1ac8f8][_0x3a74ef(0x182)]);}}autoSelectMode=beaconData[_0x3a74ef(0xe6)]['autoSelectMode'],autoSelectMode[_0x3a74ef(0xf9)]=beaconData[_0x3a74ef(0xe6)]['minimumBeaconThreshold'],autoSelectMode[_0x3a74ef(0xca)]=beaconData[_0x3a74ef(0xe6)][_0x3a74ef(0xf9)],maxDistance=parseInt(qrCode[_0x3a74ef(0xd5)]['maxDistance']),garageLocation[_0x3a74ef(0xc9)]='Point\x20B',garageLocation[_0x3a74ef(0x106)]=parseFloat(getBeaconListResponse[_0x3a74ef(0xd1)][_0x3a74ef(0x10c)]),garageLocation[_0x3a74ef(0x11f)]=parseFloat(getBeaconListResponse[_0x3a74ef(0xd1)][_0x3a74ef(0x12e)]),loopDetectors=getBeaconListResponse[_0x3a74ef(0xd1)][_0x3a74ef(0x18c)][_0x3a74ef(0x133)];for(let _0x4de02d=0x0;_0x4de02d<beaconData[_0x3a74ef(0xe6)][_0x3a74ef(0x14b)][_0x3a74ef(0x125)][_0x3a74ef(0xa6)];_0x4de02d++){gateloopData[_0x3a74ef(0xa5)](beaconData[_0x3a74ef(0xe6)][_0x3a74ef(0x14b)]['lanesToBeaconList'][_0x4de02d][_0x3a74ef(0x9d)],0x0);}let _0x39f86e={};_0x39f86e[_0x3a74ef(0x18b)]=_0x3a74ef(0x195),_0x39f86e['clientId']=_0x3a74ef(0x199),_0x39f86e['userName']=_0x3a74ef(0x93),_0x39f86e[_0x3a74ef(0x187)]=_0x3a74ef(0x11d),_0x39f86e[_0x3a74ef(0x177)]=getBeaconListResponse[_0x3a74ef(0xd1)][_0x3a74ef(0x18c)][_0x3a74ef(0xfd)][_0x3a74ef(0xc1)],loopList=getBeaconListResponse[_0x3a74ef(0xd1)][_0x3a74ef(0x18c)][_0x3a74ef(0x14c)],showGateIssues();}catch(_0x3241cd){J2N_printLog(_0x3241cd[_0x3a74ef(0xda)]),pushException('initHardwareConfig\x20'+_0x3241cd[_0x3a74ef(0xda)]);}}function openGate(){const _0x25f4c3=_0x31bc75;if(pinaConfig[_0x25f4c3(0x127)]==_0x25f4c3(0x193)&&pinaConfigParams[_0x25f4c3(0x9b)]==!![]){alert(_0x25f4c3(0x168));return;}if(window[_0x25f4c3(0x19a)]['onLine']==![]){alert(_0x25f4c3(0x140));return;}try{J2N_suspendClick();const _0x5e3b98=url_base[_0x25f4c3(0x113)]+url_openGate;showProgress(!![]),debugLog('openGate');let _0x19f909=JSON[_0x25f4c3(0x112)]({'url':_0x5e3b98,'data':{'beaconId':beaconId,'specification_type':specificationType,'pinaConfigParams':pinaConfigParams,'pinaClientParams':pinaClientParams,'pinaJSParams':pinaConfig[_0x25f4c3(0x185)]},'jsIntent':'OPENGATE'});J2N_fetchRequest(_0x19f909);}catch(_0x32b532){showProgress(![]),debugLog(_0x25f4c3(0xad)+_0x32b532[_0x25f4c3(0xda)]),J2N_postOnFailure(_0x25f4c3(0x97)),pushException('openGateExcep\x20'+_0x32b532['message']);}}function pushLogs(){const _0x4cc6a9=_0x31bc75;try{let _0x51448a=[];for(let [_0x195be9,_0x175a33]of minorId){let _0x3e60c8={};_0x3e60c8[_0x4cc6a9(0xd4)]=_0x195be9,_0x3e60c8[_0x4cc6a9(0xbc)]=lastDistance[_0x4cc6a9(0x96)](_0x195be9),_0x3e60c8[_0x4cc6a9(0x17d)]=minDistance[_0x4cc6a9(0x96)](_0x195be9),_0x3e60c8[_0x4cc6a9(0x18e)]=firstDistance[_0x4cc6a9(0x96)](_0x195be9),_0x3e60c8[_0x4cc6a9(0x9c)]=firstTime[_0x4cc6a9(0x96)](_0x195be9),_0x51448a[_0x4cc6a9(0xb4)](_0x3e60c8);}isiOS()?decisionData[_0x4cc6a9(0xd0)]=Object[_0x4cc6a9(0xcb)](weightDataDict):decisionData[_0x4cc6a9(0xd0)]=_0x51448a;decisionData[_0x4cc6a9(0x18c)]=loopValues,decisionData[_0x4cc6a9(0xd3)]=beaconId,decisionData[_0x4cc6a9(0x12c)]=differentiationDelta,decisionData[_0x4cc6a9(0xdf)]=scanToButtonGreenDeltaSec,decisionData[_0x4cc6a9(0x16e)]=scanToButtonClickDeltaSec,decisionData['dateDecisionDelta']=gateDecisionDeltaSec,decisionData[_0x4cc6a9(0x194)]=pinaConfigParams['simulationMode'],decisionData['buttonMode']=buttonMode,decisionData[_0x4cc6a9(0xd8)]=logArray,(decisionData[_0x4cc6a9(0x16c)]=proximityDataArray,decisionData[_0x4cc6a9(0x174)]=outcome),decisionData[_0x4cc6a9(0x12d)]=bookingID,decisionData[_0x4cc6a9(0x95)]=refId,decisionData[_0x4cc6a9(0xcf)]=uid,decisionData['gateType']=pinaConfigParams[_0x4cc6a9(0xef)],decisionData[_0x4cc6a9(0x180)]=pinaConfigParams[_0x4cc6a9(0x180)],decisionData[_0x4cc6a9(0xf5)]=pinaConfigParams['zid'],decisionData[_0x4cc6a9(0x152)]=pinaConfigParams['uniqueID'],decisionData[_0x4cc6a9(0x132)]=parseJwt(pinaClientParams['bearerToken']),decisionData[_0x4cc6a9(0x11c)]=techType,decisionData[_0x4cc6a9(0x171)]=firstBleHitTime,decisionData[_0x4cc6a9(0x10d)]=bleEnabledTime,decisionData['loopEnabledTime']=loopEnabledTime,decisionData[_0x4cc6a9(0xf7)]=pinaConfig['pinaJSParams'][_0x4cc6a9(0x16b)],decisionData[_0x4cc6a9(0x11e)]=pinaConfigParams[_0x4cc6a9(0x11e)];const _0x4629c0=url_base[_0x4cc6a9(0x113)]+url_decisionInfo;logger(),fetch(_0x4629c0,{'method':_0x4cc6a9(0x118),'body':JSON['stringify'](decisionData),'headers':{'Accept':_0x4cc6a9(0xbe),'Content-Type':_0x4cc6a9(0xbe)}})[_0x4cc6a9(0xc6)](_0x4149d9=>{})['catch'](_0x15a317=>{const _0x3f4385=_0x4cc6a9;pushException(_0x3f4385(0x181)+_0x15a317[_0x3f4385(0xda)]);});}catch(_0xb49438){pushException(_0x4cc6a9(0x150)+_0xb49438[_0x4cc6a9(0xda)]);}}function startCountDownTimer(_0x2f4d38){const _0x6f2bcb=_0x31bc75;try{_0x2f4d38?setTimeout(function(){bleEnabledTime===0x0&&(bleEnabledTime=(Date['now']()-screenAppearanceTime)/0x3e8),bleDetected=!![],thresholdTimerExecuted=!![],takeAction(undefined,undefined,undefined),debugLog('Timer\x20Ended');},parseFloat(autoSelectMode[_0x6f2bcb(0xfe)])*0x3e8||0xbb8):thresholdTimerExecuted&&takeAction(undefined,undefined,undefined);}catch(_0x31dd18){pushException(_0x6f2bcb(0x17c)+_0x31dd18[_0x6f2bcb(0xda)]);}}function pushException(_0x251918){const _0x2dce91=_0x31bc75;debugLog(_0x2dce91(0xa1)+_0x251918);let _0x3478d0=JSON['stringify']({'url':loggerURL[_0x2dce91(0x113)],'data':{'exception':_0x251918,'prjId':0x1,'srcId':0x4,'refId':refId,'email':parseJwt(pinaClientParams['bearerToken']),'uid':parseInt(pinaConfig[_0x2dce91(0x178)][_0x2dce91(0xcf)])||-0x1},'jsIntent':_0x2dce91(0x15f)});J2N_fetchRequest(_0x3478d0);}function logger(){const _0x73ced8=_0x31bc75;let _0x1e3bd6=JSON[_0x73ced8(0x112)]({'url':loggerURL[_0x73ced8(0x113)],'data':{'decisionData':decisionData,'prjId':0x1,'srcId':0x4,'refId':refId,'email':parseJwt(pinaClientParams['bearerToken']),'uid':parseInt(pinaConfig['pinaConfigParams'][_0x73ced8(0xcf)])||-0x1},'jsIntent':_0x73ced8(0x15f)});J2N_fetchRequest(_0x1e3bd6);}function _0x389e(){const _0x2b6c49=['head','onLine','gethwExcep\x20','oneBeacon','toUTCString','beaconConfig','pinaMiscParams','takeAction\x20','loopEnabledTime','buttonMode','background','#F2555C','simulationMode=true','1337784WSBHxX','gateType','2396792rTSqsz','gate_issues','type','onClickBLEButton\x20','Failed\x20to\x20open\x20door.\x20Please\x20try\x20again','zid','sin','jsversion','alert','minimumBeaconThreshold','value','validateLatLong\x20','container_pedestrian','loopConfig','decision_time','J2N_startBeaconScan','appIconImage','Open\x20Gate\x20failure','api/v2/decisionInfo','Thank\x20you\x20for\x20visiting\x20ABC\x20Garage','localeCompare','orderId','latitude','J2N_startLoopScan','button_enable_pedestrian','getElementsByTagName','cos','helpText','garageLatitude','bleEnabledTime','mqtts.divrt.co','multi','opeopenGatePedExcepnGate\x20','createElement','stringify','getURL','onClickBackGateIssues\x20','estimoteCloudDetails','OPENGATE','loop0Topic','POST','This\x20is\x20prebundle\x20JS','showAwaiting\x20','atan2','techType','parking','osversion','longitude','remove','onClickMoveForward\x20','gateButtonBgColor','openGatePedfail\x20','nameValuePairs','lanesToBeaconList','Hide\x20Awaiting','environment','takeAction\x20inner\x20','container_main','item','pinaSdkParams','differentiationDelta','bookingID','garageLongitude','Android','parking1234','validateNFC\x20','email','loopList','delete','button_enable','container_gate_issues','62276','action','secret_key','time','flushData\x20','back_btn','~latestHardWareConfigruation','getDistanceFromLatLonInKm\x20','displayWebViewAndStartSDK\x20','No\x20network\x20available.\x20Please\x20check\x20your\x20connection\x20and\x20try\x20again','src','myLaneLoop','onClickPedestrian\x20','onClickGate2\x20','latLong.longitude','refno','Start\x20time\x20','openGatePedestrian','replace','5549004DwCPbL','lanesBeaconsMap','loopsList','main_container','latLong.latitude','left_btn','pushLogs\x20','proceed_btn','uniqueID','style','nfcData','https://static.divrt.co/images/pinabox/spp/spplogo.png','loopEnabled','NFC','loader','middle_btn','openGatePedExcep\x20','welcome_text','5799695XvPvJr','color','multi_gate_btn','LOGGER','status','hide','onClickGate1\x20','validateQR\x20','divrt://5350504C-5553-434F-5250-4F524154494F/12/121','showProgress\x20','https://pinaboxapi.divrt.co/','GETHARDWARECONFIG','Simulation\x20mode\x20is\x20restricted\x20in\x20Production.\x20Please\x20change\x20DIVRT\x20environment\x20to\x20DEV','https://loggerapi-dev.divrt.co/log','pedestrian_flow','version','proximitydata','button_nfc','scanToButtonClickDelta','button_ble_pedestrian','appendChild','firstBleHitTime','showOpenButton\x20','sqrt','outcome','defer','getElementById','loopDetectorMqttTopic','pinaConfigParams','ranges','10946628LZkFoL','~cachedHardWareConfigruation','startCountDownTimer\x20','minDistance','right_btn','Move\x20closer\x20to\x20the\x20gate\x20to\x20exit','ostype','pushLogs\x20response\x20','weight','divrt://5350504C-5553-434F-5250-4F524154494F/30003/111','hideGateLayout\x20','pinaJSParams','toString','password','onClickGate3\x20','invisible','1527385bScqPO','serverUri','loopData','getElementsByClassName','firstDistance','simulation','demoGarage','move_closer_text','beaconId','PROD','simulation_mode','tcp://mqtts.divrt.co:1883','validateHardwareConfig\x20','attachment_minor_ids','validateLoopData\x20','phpMQTT-subscriber','navigator','split','radius','AndroidSpecific.js','divrt-mqtt-dev','14mYlEQl','refId','get','Failed\x20to\x20open\x20gate.\x20Please\x20try\x20again','otherBeacon','multi_gate','isPedestrian','simulationMode','firstTime','gateID','classList','dateDecisionDelta','parse','Exception','Wrong\x20NFC\x20scanned','now','dev','set','length','pinaClientParams','openGatePedExcep','move_closer_text_pedestrian','Move\x20closer\x20to\x20the\x20gate\x20to\x20enter','innerHTML','OPENGATEPEDESTRIAN','openGateExcep\x20','TEST','#FFFFFF','androidObj','hideAwaiting\x20','hardwarfalse=','\x20-\x20','push','otherLaneLoop','button_ble','Gate\x20open\x20failure','10346427nrPPZz','beaconList','laneMqttTopics','add','lastDistance','showGateLayout\x20','application/json','hideOpenButton\x20','entrance_id','mqtt_topic','iOSSpecific.js','clientId','hideAwaitingPedestrian\x20','2pjrSMA','then','showOpenButtonPedestrian\x20','script','name','minimumSingleButtonThreshold','values','JSInteractionWrapper.js','text/javascript','logo','uid','beaconData','data','onClickBackPedestrian\x20','openedGate','minorID','qrConfig','userName','presentButtonMode','sequenceLogs','broker.mqttdashboard.com','message','Wrong\x20code\x20scanned,\x20please\x20try\x20again','qrData','osTypeVer','openGatefail\x20','scanToButtonGreenDelta','container'];_0x389e=function(){return _0x2b6c49;};return _0x389e();}function initPinaModel(){const _0x5cfb75=_0x31bc75;try{pinaConfigParams={},pinaConfigParams[_0x5cfb75(0xf5)]=_0x5cfb75(0x137),pinaConfigParams[_0x5cfb75(0xef)]='IN',pinaConfigParams[_0x5cfb75(0x139)]='4f3765a60e61facd73cf757d1610e8f37be26c97323290971793feaf06b06982',pinaConfigParams[_0x5cfb75(0x180)]=_0x5cfb75(0x12f),pinaConfigParams['uniqueID']='PinaTest',pinaSdkParams={},pinaSdkParams[_0x5cfb75(0x10b)]=_0x5cfb75(0x103),pinaClientParams={},pinaMiscParams={},decisionData[_0x5cfb75(0x12d)]=pinaConfigParams[_0x5cfb75(0x105)],decisionData['refId']=pinaConfigParams['orderId'],decisionData[_0x5cfb75(0xef)]=pinaConfigParams[_0x5cfb75(0xef)],decisionData[_0x5cfb75(0xdd)]=pinaConfigParams[_0x5cfb75(0x180)],decisionData[_0x5cfb75(0x18f)]=pinaConfigParams[_0x5cfb75(0x9b)],decisionData[_0x5cfb75(0xf5)]=pinaConfigParams[_0x5cfb75(0xf5)],decisionData['uid']=pinaConfigParams[_0x5cfb75(0x152)],document[_0x5cfb75(0x176)](_0x5cfb75(0x15b))[_0x5cfb75(0xab)]=pinaSdkParams[_0x5cfb75(0x10b)],scanToButtonGreenDelta=Date['now'](),scanToButtonClickDelta=Date['now'](),gateDecisionDelta=Date[_0x5cfb75(0xa3)](),getHardwareConfig(undefined);}catch(_0x33f250){J2N_printLog(_0x33f250[_0x5cfb75(0xda)]);}}function initBeaconData(){const _0x614a2f=_0x31bc75;try{setTimeout(function(){const _0x47a4c0=_0x1b39;hideAwaiting(),showOpenButton(),hideGateLayout(),presentButtonMode='1',gate=beaconData[_0x47a4c0(0xe6)][_0x47a4c0(0x14b)][_0x47a4c0(0x125)][0x0]['gateID'];for(let _0x2569ff=0x0;_0x2569ff<beaconData['beaconList']['length'];_0x2569ff++){gateForBeacon[_0x47a4c0(0xa5)](beaconData['beaconList'][_0x2569ff]['gateID'],beaconData[_0x47a4c0(0xb9)][_0x2569ff][_0x47a4c0(0x192)]);}},0xbb8);}catch(_0x5d96a7){J2N_printLog(_0x5d96a7[_0x614a2f(0xda)]);}}function initLoopData(){}function initNFC(){const _0x18b5be=_0x31bc75;try{validateNFC(_0x18b5be(0x164));}catch(_0x4215a5){J2N_printLog(_0x4215a5['message']);}}function initQR(){const _0x205efe=_0x31bc75;try{validateQR(_0x205efe(0x183));}catch(_0x1c119e){J2N_printLog(_0x1c119e['message']);}}function baseParametersProximity(){const _0x56c85a=_0x31bc75;return decisionData[_0x56c85a(0xd0)]=Object[_0x56c85a(0xcb)](weightDataDict),decisionData[_0x56c85a(0x18c)]=loopValues,decisionData[_0x56c85a(0xd3)]=beaconId,decisionData['differentiationDelta']=differentiationDelta,decisionData[_0x56c85a(0xdf)]=scanToButtonGreenDeltaSec,decisionData['scanToButtonClickDelta']=scanToButtonClickDeltaSec,decisionData[_0x56c85a(0x9f)]=gateDecisionDeltaSec,decisionData[_0x56c85a(0x194)]=pinaConfigParams['simulationMode'],decisionData[_0x56c85a(0xea)]=buttonMode,decisionData[_0x56c85a(0xd8)]=logArray,(decisionData[_0x56c85a(0x16c)]=proximityDataArray,decisionData[_0x56c85a(0x174)]=outcome),decisionData[_0x56c85a(0x12d)]=bookingID,decisionData[_0x56c85a(0x95)]=refId,decisionData[_0x56c85a(0xcf)]=uid,decisionData[_0x56c85a(0xef)]=pinaConfigParams[_0x56c85a(0xef)],decisionData[_0x56c85a(0x180)]=pinaConfigParams[_0x56c85a(0x180)],decisionData[_0x56c85a(0xf5)]=pinaConfigParams[_0x56c85a(0xf5)],decisionData[_0x56c85a(0x152)]=pinaConfigParams[_0x56c85a(0x152)],decisionData['email']=parseJwt(pinaClientParams['bearerToken']),decisionData[_0x56c85a(0x11c)]=techType,decisionData[_0x56c85a(0x171)]=firstBleHitTime,decisionData['bleEnabledTime']=bleEnabledTime,decisionData[_0x56c85a(0xe9)]=loopEnabledTime,decisionData[_0x56c85a(0xf7)]=pinaConfig[_0x56c85a(0x185)]['version'],decisionData[_0x56c85a(0x11e)]=pinaConfigParams[_0x56c85a(0x11e)],decisionData;}function debugLog(_0x1d7eac,_0x38e9a1){const _0xafafc1=_0x31bc75;debugCount+=0x1;let _0x19c86a=Date['now']()/0x3e8;if(debugCount==0x1){logStartTime=_0x19c86a;const _0x8cb281=_0xafafc1(0x147)+new Date()[_0xafafc1(0xe5)]();logArray[_0xafafc1(0xb4)](_0x8cb281);}const _0x319492=debugCount+_0xafafc1(0xb3)+_0x1d7eac+_0xafafc1(0xb3)+parseInt(_0x19c86a-logStartTime);logArray[_0xafafc1(0xb4)](_0x319492);}function returnDelta(){const _0x5c6836=_0x31bc75;let _0x318d14=Date[_0x5c6836(0xa3)]()/0x3e8;logStartTime==0x0&&(logStartTime=_0x318d14);let _0x159761=parseInt(_0x318d14-logStartTime);return _0x159761;}function parseJwt(_0x57e79f){const _0x2082a=_0x31bc75;try{return JSON[_0x2082a(0xa0)](atob(_0x57e79f[_0x2082a(0x19b)]('.')[0x1]))[_0x2082a(0x132)];}catch(_0x21629a){return'na';}};function initGateData(_0x335964){const _0x5d55b5=_0x31bc75;try{entrance=_0x335964;let _0x5422e3=0x0,_0x37def1=[];for(let _0x34abf4=0x0;_0x34abf4<beaconData[_0x5d55b5(0xe6)][_0x5d55b5(0x14b)][_0x5d55b5(0x125)][_0x5d55b5(0xa6)];_0x34abf4++){beaconData[_0x5d55b5(0xe6)][_0x5d55b5(0x14b)][_0x5d55b5(0x125)][_0x34abf4][_0x5d55b5(0xc0)]['localeCompare'](_0x335964)===0x0?(_0x37def1[_0x5422e3]=beaconData[_0x5d55b5(0xe6)]['lanesBeaconsMap'][_0x5d55b5(0x125)][_0x34abf4],_0x5422e3++):gateloopData[_0x5d55b5(0x134)](beaconData[_0x5d55b5(0xe6)][_0x5d55b5(0x14b)][_0x5d55b5(0x125)][_0x34abf4][_0x5d55b5(0x9d)]);}beaconData[_0x5d55b5(0xe6)]['lanesBeaconsMap'][_0x5d55b5(0x125)]=_0x37def1;beaconData['beaconConfig'][_0x5d55b5(0x14b)][_0x5d55b5(0x125)][_0x5d55b5(0xa6)]==0x1?loopList=getBeaconListResponse['data'][_0x5d55b5(0x18c)]['oneList']:loopList=getBeaconListResponse[_0x5d55b5(0xd1)]['loopData']['nList'];for(let _0x512af6=0x0;_0x512af6<beaconData[_0x5d55b5(0xe6)]['lanesBeaconsMap']['lanesToBeaconList'][_0x5d55b5(0xa6)];_0x512af6++){var _0x1fb9bd='';for(var _0x8e35a0=0x0;_0x8e35a0<beaconData['beaconConfig']['lanesBeaconsMap'][_0x5d55b5(0x125)][_0x512af6][_0x5d55b5(0x197)][_0x5d55b5(0xa6)];_0x8e35a0++){_0x1fb9bd=_0x1fb9bd+'*'+beaconData[_0x5d55b5(0xe6)][_0x5d55b5(0x14b)][_0x5d55b5(0x125)][_0x512af6][_0x5d55b5(0x197)][_0x8e35a0];}minGateData[_0x5d55b5(0xa5)](_0x1fb9bd,[beaconData[_0x5d55b5(0xe6)][_0x5d55b5(0x14b)][_0x5d55b5(0x125)][_0x512af6]['gateID'],0xa]),maxGateData['set'](_0x1fb9bd,[beaconData[_0x5d55b5(0xe6)][_0x5d55b5(0x14b)][_0x5d55b5(0x125)][_0x512af6][_0x5d55b5(0x9d)],0x0]);}document['getElementById'](_0x5d55b5(0x14f))[_0x5d55b5(0xab)]=beaconData[_0x5d55b5(0xe6)]['lanesBeaconsMap'][_0x5d55b5(0x125)][0x0][_0x5d55b5(0xc9)];beaconData[_0x5d55b5(0xe6)][_0x5d55b5(0x14b)][_0x5d55b5(0x125)][_0x5d55b5(0xa6)]>0x1&&(document[_0x5d55b5(0x176)](_0x5d55b5(0x17e))[_0x5d55b5(0xab)]=beaconData[_0x5d55b5(0xe6)]['lanesBeaconsMap']['lanesToBeaconList'][0x1]['name']);beaconData['beaconConfig']['lanesBeaconsMap'][_0x5d55b5(0x125)][_0x5d55b5(0xa6)]>0x2?document[_0x5d55b5(0x176)](_0x5d55b5(0x159))['innerHTML']=beaconData[_0x5d55b5(0xe6)][_0x5d55b5(0x14b)][_0x5d55b5(0x125)][0x2][_0x5d55b5(0xc9)]:document[_0x5d55b5(0x176)](_0x5d55b5(0x159))[_0x5d55b5(0xab)]='';gateDatainitialised=!![];for(let [_0x3c0283,_0x50895a]of gateloopData){_0x50895a===0x1&&(loopDetected=!![],loopEnabledTime===0x0&&(loopEnabledTime=(Date['now']()-screenAppearanceTime)/0x3e8));}}catch(_0x116ff5){pushException('onClickGateIssues\x20'+_0x116ff5[_0x5d55b5(0xda)]);}}function validateFetchSuccessResponse(_0x3d23a6,_0xeb7542){const _0x549bcc=_0x31bc75;let _0x7fba54=JSON[_0x549bcc(0xa0)](_0x3d23a6);switch(_0xeb7542){case _0x549bcc(0x116):showProgress(![]);try{_0x7fba54[_0x549bcc(0x160)]?(showAwaiting(),hideGateLayout(),hideOpenButton(),document['getElementById']('welcome_text')[_0x549bcc(0xab)]='',document[_0x549bcc(0x176)](_0x549bcc(0x191))[_0x549bcc(0xab)]=_0x549bcc(0xaa),document['getElementById'](_0x549bcc(0xe0))[_0x549bcc(0x9e)][_0x549bcc(0xbb)](_0x549bcc(0x161)),document[_0x549bcc(0x176)](_0x549bcc(0x158))[_0x549bcc(0x9e)][_0x549bcc(0x120)](_0x549bcc(0x161)),bookingID=_0x7fba54[_0x549bcc(0x146)],refId=_0x7fba54[_0x549bcc(0x146)],uid=_0x7fba54['uid'],pushLogs(),J2N_postOnSuccess(JSON['stringify'](_0x7fba54))):(J2N_printLog(JSON['stringify'](_0x7fba54)),J2N_postOnFailure(JSON['stringify'](_0x7fba54)),pushLogs());}catch(_0x1262f2){debugLog(_0x549bcc(0xad)+_0x1262f2[_0x549bcc(0xda)]),J2N_printLog(_0x549bcc(0x101)+_0x1262f2[_0x549bcc(0xda)]),J2N_postOnFailure('Gate\x20open\x20failure'),pushException('openGateExcep'+_0x1262f2['message']),pushLogs();}break;case _0x549bcc(0xac):showProgress(![]);try{_0x7fba54[_0x549bcc(0x160)]?(showAwaiting(),hideGateLayout(),hideOpenButton(),onClickBackPedestrian(),onClickBackGateIssues(),document[_0x549bcc(0x176)](_0x549bcc(0x15b))[_0x549bcc(0xab)]='',document['getElementById']('move_closer_text')[_0x549bcc(0xab)]=_0x549bcc(0xaa),J2N_postOnInfo('Thank\x20you\x20for\x20using\x20pedestrian\x20access'),pushLogs()):(J2N_printLog(JSON[_0x549bcc(0x112)](_0x7fba54)),J2N_postOnFailure(JSON[_0x549bcc(0x112)](_0x7fba54)),pushLogs());}catch(_0x442c21){debugLog(_0x549bcc(0x15a)+_0x442c21[_0x549bcc(0xda)]),J2N_printLog('Open\x20Gate\x20failure'+_0x442c21[_0x549bcc(0xda)]),J2N_postOnFailure(_0x549bcc(0xb7)),pushException(_0x549bcc(0xa8)+_0x442c21['message']),pushLogs();}break;case _0x549bcc(0x167):showProgress(![]);let _0x1b0d68=!!_0x7fba54['status']||![],_0x559864=_0x7fba54[_0x549bcc(0xda)]||'';_0x1b0d68==!![]?(getBeaconListResponse=_0x7fba54,J2N_forceJSupdate(JSON[_0x549bcc(0x112)](_0x7fba54)),initHardwareConfig(),reloadHwAndDisplay?displayWebViewAndStartSDK():J2N_printLog(_0x549bcc(0x13d))):debugLog(_0x549bcc(0xb2),_0x559864);break;}}function validateFetchFailureResponse(_0x58538c,_0xcc64db){const _0x57d4b6=_0x31bc75;showProgress(![]);switch(_0xcc64db){case _0x57d4b6(0x116):debugLog(_0x57d4b6(0xde)+_0x58538c),J2N_postOnFailure(_0x57d4b6(0x97)),pushException(_0x57d4b6(0xde)+_0x58538c);break;case _0x57d4b6(0xac):debugLog(_0x57d4b6(0x123)+e[_0x57d4b6(0xda)]),J2N_postOnFailure('Failed\x20to\x20open\x20door.\x20Please\x20try\x20again'),pushException(_0x57d4b6(0x123)+e[_0x57d4b6(0xda)]);break;case _0x57d4b6(0x167):debugLog('gethwfailure'+e[_0x57d4b6(0xda)]),pushException('gethwfailure'+e['message']);break;}}
