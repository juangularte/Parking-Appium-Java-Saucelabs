 (function(_0x45018d,_0x3b0385){const _0x15dcbc=_0x17b2,_0x507c1b=_0x45018d();while(!![]){try{const _0x2c5b03=-parseInt(_0x15dcbc(0x13e))/0x1+-parseInt(_0x15dcbc(0x141))/0x2+-parseInt(_0x15dcbc(0x150))/0x3+parseInt(_0x15dcbc(0x146))/0x4*(parseInt(_0x15dcbc(0x142))/0x5)+-parseInt(_0x15dcbc(0x151))/0x6*(parseInt(_0x15dcbc(0x136))/0x7)+-parseInt(_0x15dcbc(0x14e))/0x8+parseInt(_0x15dcbc(0x13d))/0x9*(parseInt(_0x15dcbc(0x15b))/0xa);if(_0x2c5b03===_0x3b0385)break;else _0x507c1b['push'](_0x507c1b['shift']());}catch(_0x4fd6e7){_0x507c1b['push'](_0x507c1b['shift']());}}}(_0x5448,0x42cd6));function _0x17b2(_0x570501,_0x18e590){const _0x544899=_0x5448();return _0x17b2=function(_0x17b28e,_0x3d6358){_0x17b28e=_0x17b28e-0x12a;let _0x4c49fb=_0x544899[_0x17b28e];return _0x4c49fb;},_0x17b2(_0x570501,_0x18e590);}function validateBeaconDataiOS(_0x229a5f){const _0x5cc0c0=_0x17b2;let _0x5a05b8=JSON[_0x5cc0c0(0x13b)](_0x229a5f),_0x5d2713=_0x5a05b8[_0x5cc0c0(0x13c)],_0x350cd9=_0x5a05b8[_0x5cc0c0(0x143)];firstBleHitTime===0x0&&(debugLog(_0x5cc0c0(0x157)),firstBleHitTime=(Date['now']()-screenAppearanceTime)/0x3e8);var _0x43408e={};_0x43408e[_0x5cc0c0(0x138)]=(Date['now']()-screenAppearanceTime)/0x3e8;var _0x31e2c7=[];for(let _0x27a08d of _0x5d2713){_0x31e2c7[_0x5cc0c0(0x130)]({'major':_0x27a08d[_0x5cc0c0(0x159)],'minor':_0x27a08d[_0x5cc0c0(0x14d)],'id':_0x27a08d[_0x5cc0c0(0x158)]});}_0x43408e[_0x350cd9]=_0x31e2c7,proximityDataArray[_0x5cc0c0(0x130)](_0x43408e),batteryDataDictionaryArray=_0x5a05b8['batteryDataDict'];for(let _0x232ef6 of _0x5d2713){uuid=_0x232ef6['uuid'],major=_0x232ef6[_0x5cc0c0(0x159)],minor=_0x232ef6[_0x5cc0c0(0x14d)],identifier=_0x232ef6[_0x5cc0c0(0x158)],range=_0x232ef6[_0x5cc0c0(0x155)],console[_0x5cc0c0(0x12b)]('current\x20range\x20='+_0x232ef6[_0x5cc0c0(0x155)]+_0x5cc0c0(0x15e)+_0x232ef6[_0x5cc0c0(0x14d)]);if(rangeData['has'](_0x232ef6[_0x5cc0c0(0x14d)]+'*'+_0x232ef6[_0x5cc0c0(0x155)]))console[_0x5cc0c0(0x12b)]('rangeData\x20includes\x20range\x20='+_0x232ef6['range']+_0x5cc0c0(0x15e)+_0x232ef6[_0x5cc0c0(0x14d)]);else{rangeData[_0x5cc0c0(0x132)](_0x232ef6['minor']+'*'+_0x232ef6[_0x5cc0c0(0x155)],new Date()[_0x5cc0c0(0x15c)]()),beaconsMap[_0x5cc0c0(0x132)](''+_0x232ef6[_0x5cc0c0(0x154)][_0x5cc0c0(0x156)]()+'*'+_0x232ef6[_0x5cc0c0(0x159)]+'*'+_0x232ef6[_0x5cc0c0(0x14d)],new Date()[_0x5cc0c0(0x15c)]()),altBeaconsMap[_0x5cc0c0(0x132)](''+_0x232ef6['uuid'][_0x5cc0c0(0x156)]()+'*'+_0x232ef6[_0x5cc0c0(0x159)]+'*'+_0x232ef6[_0x5cc0c0(0x14d)],_0x232ef6);var _0xd68fc1=[];if(beaconData!=null&&beaconData[_0x5cc0c0(0x147)]!=null&&beaconData['beaconList'][_0x5cc0c0(0x133)]>0x0)for(let _0x5b6d2e=0x0;_0x5b6d2e<beaconData[_0x5cc0c0(0x147)]['length'];_0x5b6d2e++){gateForBeacon[_0x5cc0c0(0x132)](beaconData[_0x5cc0c0(0x147)][_0x5b6d2e][_0x5cc0c0(0x14c)],beaconData[_0x5cc0c0(0x147)][_0x5b6d2e][_0x5cc0c0(0x12e)]);if(beaconsMap[_0x5cc0c0(0x152)](beaconData[_0x5cc0c0(0x12a)]['toLowerCase']()+'*'+beaconData[_0x5cc0c0(0x147)][_0x5b6d2e][_0x5cc0c0(0x144)]+'*'+beaconData[_0x5cc0c0(0x147)][_0x5b6d2e][_0x5cc0c0(0x14b)])){!gateDatainitialised&&initGateData(beaconData[_0x5cc0c0(0x147)][_0x5b6d2e][_0x5cc0c0(0x140)]);beacon1=altBeaconsMap['get'](beaconData[_0x5cc0c0(0x12a)]['toLowerCase']()+'*'+beaconData[_0x5cc0c0(0x147)][_0x5b6d2e][_0x5cc0c0(0x144)]+'*'+beaconData[_0x5cc0c0(0x147)][_0x5b6d2e][_0x5cc0c0(0x14b)]);if(beaconData[_0x5cc0c0(0x147)][_0x5b6d2e]['isPedestrian']!=null&&beaconData[_0x5cc0c0(0x147)][_0x5b6d2e][_0x5cc0c0(0x14f)]['localeCompare']('1')===0x0)storeBeaconIdPedestrian(beaconData['beaconList'][_0x5b6d2e]['beaconId']),showOpenButtonPedestrian(),hideAwaitingPedestrian();else{if(_0xd68fc1[_0x5cc0c0(0x12d)](beaconData[_0x5cc0c0(0x147)][_0x5b6d2e][_0x5cc0c0(0x14b)])){console[_0x5cc0c0(0x12b)](beaconData[_0x5cc0c0(0x147)][_0x5b6d2e][_0x5cc0c0(0x14b)]+'Already\x20iterated\x20through\x20beacon\x20list,now\x20ignore');continue;}_0xd68fc1['push'](beaconData[_0x5cc0c0(0x147)][_0x5b6d2e][_0x5cc0c0(0x14b)]);if(presentButtonMode[_0x5cc0c0(0x14a)]('-1')===0x0){for(let [_0x5aecf,_0x285962]of maxGateData){if(_0x5aecf[_0x5cc0c0(0x12d)](beaconData[_0x5cc0c0(0x147)][_0x5b6d2e][_0x5cc0c0(0x14b)])&&_0x5aecf['includes'](_0x232ef6[_0x5cc0c0(0x14d)])){console[_0x5cc0c0(0x12b)]('Weight\x20before\x20='+_0x285962[0x0]+'\x20'+_0x285962[0x1]),maxGateData['set'](_0x5aecf,[_0x285962[0x0],_0x285962[0x1]+rangeWeightData[_0x5cc0c0(0x139)](_0x232ef6[_0x5cc0c0(0x155)])*beaconData['beaconList'][_0x5b6d2e][_0x5cc0c0(0x15a)]]),console['log']('Weight\x20after\x20='+_0x285962[0x0]+'\x20'+(_0x285962[0x1]+rangeWeightData[_0x5cc0c0(0x139)](_0x232ef6[_0x5cc0c0(0x155)])*beaconData[_0x5cc0c0(0x147)][_0x5b6d2e]['weight']));var _0x4cd047={};_0x4cd047[_0x285962[0x0]]=_0x285962[0x1]+rangeWeightData[_0x5cc0c0(0x139)](_0x232ef6[_0x5cc0c0(0x155)])*beaconData[_0x5cc0c0(0x147)][_0x5b6d2e][_0x5cc0c0(0x15a)],weightDataDict[_0x285962[0x0]]=_0x4cd047;}}let _0x4d88f7=checkIfReachedMinimumBeaconThreshold();beaconData[_0x5cc0c0(0x148)][_0x5cc0c0(0x12c)]['lanesToBeaconList']['length']<=0x1?(bleEnabledTime===0x0&&(bleEnabledTime=(Date[_0x5cc0c0(0x137)]()-screenAppearanceTime)/0x3e8),debugLog(_0x5cc0c0(0x13f)),debugLog(_0x5cc0c0(0x153)+new Date()[_0x5cc0c0(0x12f)]()),bleDetected=!![],takeAction(undefined,undefined,undefined)):_0x4d88f7?(beaconHits++,beaconHits===0x1?(debugLog(_0x5cc0c0(0x131)),startCountDownTimer(!![])):startCountDownTimer(![])):console[_0x5cc0c0(0x12b)](_0x5cc0c0(0x135));}}}}}}}function _0x5448(){const _0x1b939a=['Not\x20reached\x20threshold','21okXxHC','now','time','get','min_differentiation_delta','parse','beaconDataDict','18Qwjduu','81446KzFpbR','single\x20lane\x20BLE\x20Detected','entrance_id','864596sRkaBl','1750685xVprWq','rangeString','majorid','lanesToBeaconList','4eIRXFb','beaconList','beaconConfig','gate=','localeCompare','minorid','gateID','minor','4055504fZXHrP','isPedestrian','908340zyDhWh','897642wHHKXR','has','Time\x20Check:\x20','uuid','range','toLowerCase','firstBleHitTime','identifier','major','weight','8478840smLxZQ','getTime','minimumBeaconThreshold','\x20minor=','mmid','log','lanesBeaconsMap','includes','beaconId','toUTCString','push','gatedeciTimer','set','length','reachedTheshold'];_0x5448=function(){return _0x1b939a;};return _0x5448();}function checkIfReachedMinimumBeaconThreshold(){const _0x59edf0=_0x17b2;var _0x185613=![];for(let [_0x388552,_0x2d397a]of maxGateData){let _0xba37e4=_0x2d397a[0x1];if(parseInt(_0xba37e4)>=parseInt(autoSelectMode[_0x59edf0(0x15d)])){console[_0x59edf0(0x12b)](_0x59edf0(0x134)+_0xba37e4+_0x59edf0(0x149)+_0x2d397a[0x0]),_0x185613=!![];break;}}return _0x185613;}function selectGateiOS(){const _0x28f4b6=_0x17b2;cancelled=![],estimateClicked=!![];let _0x2d8f43=0x1,_0x5b8255=0x1,_0x2fc593=0x1,_0x5065ed=0x0;for(let [_0xc01365,_0x5a9182]of maxGateData){switch(_0x5065ed){case 0x0:_0x2d8f43=_0x5a9182[0x1],_0x5065ed++;break;case 0x1:_0x5b8255=_0x5a9182[0x1],_0x5065ed++;break;case 0x2:_0x2fc593=_0x5a9182[0x1],_0x5065ed++;break;}}switch(beaconData['beaconConfig'][_0x28f4b6(0x12c)][_0x28f4b6(0x145)][_0x28f4b6(0x133)]){case 0x1:delta=autoSelectMode[_0x28f4b6(0x13a)],gate=beaconData[_0x28f4b6(0x148)]['lanesBeaconsMap'][_0x28f4b6(0x145)][0x0]['gateID'],lane=0x1;break;case 0x2:_0x2d8f43>=_0x5b8255?(delta=_0x2d8f43-_0x5b8255,gate=beaconData[_0x28f4b6(0x148)][_0x28f4b6(0x12c)][_0x28f4b6(0x145)][0x0]['gateID'],lane=0x1):(delta=_0x5b8255-_0x2d8f43,gate=beaconData[_0x28f4b6(0x148)][_0x28f4b6(0x12c)]['lanesToBeaconList'][0x1][_0x28f4b6(0x14c)],lane=0x2);break;case 0x3:if(_0x2d8f43===0x1)delta=_0x2fc593-_0x5b8255,_0x5b8255>=_0x2fc593?(gate=beaconData['beaconConfig'][_0x28f4b6(0x12c)][_0x28f4b6(0x145)][0x1][_0x28f4b6(0x14c)],lane=0x2):(gate=beaconData[_0x28f4b6(0x148)]['lanesBeaconsMap'][_0x28f4b6(0x145)][0x2][_0x28f4b6(0x14c)],lane=0x3);else{if(_0x5b8255===0x1)delta=_0x2fc593-_0x2d8f43,_0x2d8f43>=_0x2fc593?(gate=beaconData[_0x28f4b6(0x148)]['lanesBeaconsMap'][_0x28f4b6(0x145)][0x0]['gateID'],lane=0x1):(gate=beaconData[_0x28f4b6(0x148)][_0x28f4b6(0x12c)]['lanesToBeaconList'][0x2][_0x28f4b6(0x14c)],lane=0x3);else{if(_0x2fc593===0x1)_0x2d8f43>=_0x5b8255?(gate=beaconData[_0x28f4b6(0x148)][_0x28f4b6(0x12c)]['lanesToBeaconList'][0x0][_0x28f4b6(0x14c)],lane=0x1):(gate=beaconData['beaconConfig']['lanesBeaconsMap'][_0x28f4b6(0x145)][0x1][_0x28f4b6(0x14c)],lane=0x2);else{if(_0x2d8f43>=_0x5b8255&&_0x2d8f43>=_0x2fc593)_0x5b8255>=_0x2fc593?delta=_0x2d8f43-_0x5b8255:delta=_0x2d8f43-_0x2fc593,gate=beaconData['beaconConfig'][_0x28f4b6(0x12c)][_0x28f4b6(0x145)][0x0]['gateID'],lane=0x1;else{if(_0x5b8255>=_0x2d8f43&&_0x5b8255>=_0x2fc593)_0x2d8f43>=_0x2fc593?delta=_0x5b8255-_0x2d8f43:delta=_0x5b8255-_0x2fc593,gate=beaconData[_0x28f4b6(0x148)][_0x28f4b6(0x12c)][_0x28f4b6(0x145)][0x1][_0x28f4b6(0x14c)],lane=0x2;else _0x2fc593>=_0x5b8255&&_0x2fc593>=_0x2d8f43&&(_0x2d8f43>=_0x5b8255?delta=_0x2fc593-_0x2d8f43:delta=_0x2fc593-_0x5b8255,gate=beaconData[_0x28f4b6(0x148)][_0x28f4b6(0x12c)][_0x28f4b6(0x145)][0x2][_0x28f4b6(0x14c)],lane=0x3);}}}}break;}delta=delta>0x0?delta:-delta,differentiationDelta=delta,delta!=null&&delta>=autoSelectMode[_0x28f4b6(0x13a)]?(oneBeacon='1',otherBeacon='0'):(oneBeacon='1',otherBeacon='1');}
